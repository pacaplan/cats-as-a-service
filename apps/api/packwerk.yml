# Packwerk Configuration for Architecture Enforcement
# Run from apps/api as it provides the Rails context for autoloading

require:
  - packwerk-extensions

# Package discovery - finds engines and their layer packages
package_paths:
  - "."
  - "../../engines/*/"
  - "../../engines/*/app/**/"

# File inclusion/exclusion
include:
  - "../../engines/**/*.rb"
exclude:
  - "../../engines/*/app/assets/**/*"
  - "../../engines/*/app/helpers/**/*"
  - "../../engines/*/app/views/**/*"
  - "../../engines/*/spec/**/*"
  - "../../engines/*/test/**/*"

# Enable parallel processing for faster analysis
parallel: true

# Custom associations (optional future use)
# custom_associations:
#   - "has_many_through"
